<div class="facility-search-layout">
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
      <h4 class="component-title">
        <i class="fa fa-hospital-o fa-fw"></i>Facility Search
      </h4>
    </div>
    <div class="loader" *ngIf="showLoader">
      <span> <i class="fa fa-spinner fa-spin"></i>{{ loadingMessage }} </span>
    </div>
  </div>
  <ng-container *ngIf="alertObj?.message.length > 0">
    <div class="row">
      <div class="col-md-12 col-lg-12 col-xs-12 col-sm-12">
        <div
          class="alert alert-success"
          [ngClass]="{
            'alert-success': alertObj.type === 'Success',
            'alert-danger': alertObj.type === 'Danger'
          }"
          style="margin-top: 10px"
        >
          {{ alertObj.message }}
        </div>
      </div>
    </div>
  </ng-container>
  <div class="row">
    <form [formGroup]="facilitySearchFormGroup">
      <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
        <label class="control-label">Filter</label>
        <ng-select
          class="sharp-corners"
          placeholder="Please type to search"
          id="filterType"
          formControlName="filterType"
          [items]="filterTypeOptions"
        ></ng-select>
      </div>
      <ng-container
        *ngIf="selectedFilter === filterTypes.location; else otherFilter"
      >
        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
          <label class="control-label">Facility</label>
          <ng-select
            class="sharp-corners"
            placeholder="Please type to search"
            id="location"
            formControlName="facility"
            [items]="locationOptions"
          ></ng-select>
        </div>
      </ng-container>
      <ng-template #otherFilter>
        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
          <label class="control-label">Value</label>
          <input type="text" class="form-control" formControlName="value" />
        </div>
      </ng-template>
      <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12">
        <div class="search-facility-btn-container">
          <button class="btn btn-success btn-md" (click)="searchForFacility()">
            <i class="fa fa-search fa-fw"></i> Search
          </button>
        </div>
      </div>
    </form>
  </div>
  <div class="row">
    <div class="col-md-12 col-lg-12 col-xs-12 col-sm-12">
      <div class="facility-details-section">
        <ng-container *ngIf="facilityResult; else noFacility">
          <app-facility-details
            [facility]="facilityResult"
          ></app-facility-details>
        </ng-container>
        <ng-template #noFacility>
          <p>No Facility Loaded</p>
        </ng-template>
      </div>
    </div>
  </div>
</div>
