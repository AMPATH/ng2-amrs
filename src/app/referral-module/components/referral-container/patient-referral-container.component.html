<div>
  <div class="items" style="position: relative;" *ngIf="programsForReferral.length > 0">
    <patient-referral-item *ngFor="let program of programsForReferral"
                           [form] = "form"
                           [referredFromLocation]="location"
                           [patient]="patient"
                           (onSuccess)="patientReferralSuccess()"
                           (onAborting)="patientReferralAborted()"
                           [program]="program"
                           [submittedEncounter]="submittedEncounter"
                           [refer]="refer"></patient-referral-item>
  </div>
  <hr />
  <div style="text-align: right;" class="buttons">
    <button class="btn btn-danger" (click)="cancelReferral()" type="button">Cancel</button>
    <button *ngIf="!((programsForReferral.length === abortedReferrals) || (programsForReferral.length === successfulReferrals))" class="btn btn-primary" (click)="referPatient()" type="button">Refer</button>
    <button *ngIf="(programsForReferral.length === abortedReferrals) || (programsForReferral.length === successfulReferrals)" class="btn btn-success" (click)="closeReferralDialog()" type="button">Close</button>
  </div>
</div>
