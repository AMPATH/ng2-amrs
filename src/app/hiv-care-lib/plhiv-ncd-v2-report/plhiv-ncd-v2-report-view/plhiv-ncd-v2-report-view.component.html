<div class="wrapper">
  <div *ngIf="reportDetails" class="panel panel-info">
    <div class="panel-heading" style="min-height: 50px !important">
      <strong class="text-primary">
        <span class="fa fa-file-pdf-o"> </span>
        {{ reportDetails.reportName }}
        <div class="btn-group pull-right">
          <button
            class="btn btn-primary"
            (click)="downloadCSV()"
            [disabled]="!gridOptions"
          >
            <i class="fa fa-download"> </i> Export to CSV
          </button>
        </div>
      </strong>
    </div>
    <div>
      <div class="row" *ngIf="reportDetails.displayTabularFilters">
        <div class="col-md-5 col-sm-12 padding">
          <label for="">Search :</label>
          <div class="input-group">
            <span class="input-group-addon"><i class="fa fa-search"></i></span>
            <input
              #searchBoxL
              id="search-box-loc"
              [(ngModel)]="selectedResult"
              (ngModelChange)="searchIndicator()"
              placeholder="search indicator"
              class="form-control"
            />
          </div>
        </div>
        <div class="col-md-6 col-sm-12 padding pull-right">
          <div class="ui-grid-row ui-fluid">
            <div class="ui-grid-col-12 pull-right">
              <label for="">Filters :</label>
              <p-multiSelect
                [options]="headers"
                [(ngModel)]="selectedIndicatorsList"
                (onChange)="selectedIndicators()"
              >
              </p-multiSelect>
            </div>
          </div>
        </div>
      </div>

      <div
        id="contentToConvert"
        class="panel-body table-content-class"
        style="background-color: #ffffff"
      >
        <!-- <div *ngIf="SummaryData.length > 0">
          <ng-container
            *ngFor="let grid of gridOptions.columnDefs; let a = index"
          > -->
        <ng-container>
          <table>
            <thead class="header">
              <tr>
                <td [attr.colspan]="grandParent.colspan">
                  {{ grandParent.value }}
                </td>
              </tr>
            </thead>
            <tbody>
              <ng-container
                *ngFor="let line of grandParent.children; let i = index"
              >
                <tr>
                  <td>{{ line.value }}</td>
                  <ng-container *ngFor="let child of line.children">
                    <td [attr.colspan]="child.colspan">{{ child.value }}</td>
                  </ng-container>
                </tr>
                <tr *ngIf="line.indicator === 'location'">
                  <td [attr.colspan]="grandParent.colspan" class="header"></td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </ng-container>
      </div>
    </div>
  </div>
</div>
